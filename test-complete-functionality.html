<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®Œæ•´åŠŸèƒ½æµ‹è¯• - è§„è¡Œè‡´è¿œ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="presentation-container">
        <!-- ä¸»é¡µå†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <!-- è½®æ’­åŒºåŸŸ -->
            <section class="carousel-section">
                <div class="carousel-container">
                    <div class="carousel-header">
                        <h3>æ–‡ç« è½®æ’­</h3>
                        <div class="carousel-nav">
                            <button onclick="prevSlide('article')" class="nav-btn prev-btn">â€¹</button>
                            <span id="articleIndicator">1 / 2</span>
                            <button onclick="nextSlide('article')" class="nav-btn next-btn">â€º</button>
                        </div>
                    </div>
                    <div id="articleCarousel" class="carousel-content">
                        <div class="article-slide">
                            <h4>è‘£äº‹é•¿è°ˆåˆè§„çš„å®£ä¼ ç¨¿</h4>
                            <div class="article-preview">
                                <p>æµ‹è¯•æ–‡ç« é¢„è§ˆå†…å®¹ï¼Œæ ‡é¢˜å·²å»é™¤.txtåç¼€...</p>
                            </div>
                            <button class="read-more-btn">é˜…è¯»å…¨æ–‡</button>
                        </div>
                    </div>
                </div>

                <div class="carousel-container">
                    <div class="carousel-header">
                        <h3>PPTè½®æ’­</h3>
                        <div class="carousel-nav">
                            <button onclick="prevSlide('ppt')" class="nav-btn prev-btn">â€¹</button>
                            <span id="pptIndicator">1 / 4</span>
                            <button onclick="nextSlide('ppt')" class="nav-btn next-btn">â€º</button>
                        </div>
                    </div>
                    <div id="pptCarousel" class="carousel-content">
                        <div class="ppt-slide">
                            <div class="ppt-thumbnail">ğŸ“Š</div>
                            <div class="ppt-info">
                                <h4>å›½æœ‰ä¼ä¸šæŠ•èµ„é£é™©é˜²æ§å…¨è§£æ</h4>
                                <p>åˆè§„è®²å ‚</p>
                                <button class="view-ppt-btn">æŸ¥çœ‹è®²åº§</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- æ¨¡å—å¯¼èˆªåŒºåŸŸ -->
            <section class="module-navigation">
                <div class="module-grid">
                    <div class="module-item" onclick="testModuleNavigation('people-compliance')">
                        <div class="module-icon">ğŸ‘¥</div>
                        <h3>äººäººè®²åˆè§„</h3>
                        <p>äº†è§£åˆè§„æ–‡åŒ–</p>
                    </div>
                    <div class="module-item" onclick="testModuleNavigation('compliance-express')">
                        <div class="module-icon">ğŸ“°</div>
                        <h3>åˆè§„é€Ÿé€’</h3>
                        <p>æœ€æ–°æ”¿ç­–æ³•è§„</p>
                    </div>
                    <div class="module-item" onclick="testModuleNavigation('compliance-lecture')">
                        <div class="module-icon">ğŸ“</div>
                        <h3>åˆè§„è®²å ‚</h3>
                        <p>ä¸“ä¸šåŸ¹è®­èµ„æ–™</p>
                    </div>
                    <div class="module-item" onclick="testModuleNavigation('news-archive')">
                        <div class="module-icon">ğŸ”—</div>
                        <h3>è§„è¡Œè‡´è¿œ</h3>
                        <p>æ–°é—»é“¾æ¥å½’æ¡£</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- è½¬åœºåŠ¨ç”»è¦†ç›–å±‚ -->
    <div id="transitionOverlay" class="transition-overlay">
        <div class="transition-content">
            <div class="loader"></div>
            <p>é¡µé¢åŠ è½½ä¸­...</p>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/carousel.js"></script>

    <script>
        // æµ‹è¯•æ¨¡å—å¯¼èˆª
        function testModuleNavigation(moduleType) {
            console.log('æµ‹è¯•å¯¼èˆªåˆ°:', moduleType);
            
            // æ˜¾ç¤ºè½¬åœºæ•ˆæœ
            window.navigationManager.showTransition();
            
            setTimeout(() => {
                switch (moduleType) {
                    case 'people-compliance':
                        showTestModulePage('äººäººè®²åˆè§„', [
                            {filename: '1.è‘£äº‹é•¿è°ˆåˆè§„çš„å®£ä¼ ç¨¿wps.txt', extension: '.txt', size: 12800, path: 'test'},
                            {filename: '2.ä¼ä¸šé¦–å¸­åˆè§„å®˜è°ˆåˆè§„.txt', extension: '.txt', size: 15600, path: 'test'}
                        ]);
                        break;
                    case 'compliance-lecture':
                        showTestModulePage('åˆè§„è®²å ‚', [
                            {filename: '3æœˆ å›½æœ‰ä¼ä¸šæŠ•èµ„é£é™©é˜²æ§å…¨è§£æ.pdf', extension: '.pdf', size: 2048000, path: 'test'},
                            {filename: '4æœˆ æ”¿åºœæŠ•èµ„é¡¹ç›®è¶…æ¦‚ç®—é—®é¢˜çš„é£é™©åº”å¯¹ä¸é¡¹ç›®ç»“ç®—.pdf', extension: '.pdf', size: 1856000, path: 'test'}
                        ]);
                        break;
                    case 'news-archive':
                        showTestNewsPage();
                        break;
                    default:
                        showTestModulePage(moduleType, []);
                }
            }, 500);
        }

        // æ˜¾ç¤ºæµ‹è¯•æ¨¡å—é¡µé¢
        function showTestModulePage(title, files) {
            const container = document.querySelector('.presentation-container');
            container.innerHTML = `
                <header class="header">
                    <div class="page-header">
                        <div class="logo-container">
                            <img src="assets/logo/åŸå‘é›†å›¢LOGOèƒŒæ™¯é€æ˜.png" alt="åŸå‘é›†å›¢" class="logo logo-left">
                            <img src="assets/logo/åˆè§„LOGO.png" alt="è§„è¡Œè‡´è¿œ" class="logo logo-right">
                        </div>
                        <h1 class="main-title">${title}</h1>
                        <button class="back-btn" onclick="location.reload()">è¿”å›é¦–é¡µ</button>
                    </div>
                </header>
                <main class="content-area">
                    <div class="file-list">
                        ${generateTestFileList(files)}
                    </div>
                </main>
            `;
            window.navigationManager.hideTransition();
        }

        // ç”Ÿæˆæµ‹è¯•æ–‡ä»¶åˆ—è¡¨
        function generateTestFileList(files) {
            if (files.length === 0) {
                return '<p class="no-files">æš‚æ— ç›¸å…³æ–‡ä»¶</p>';
            }

            return files.map(file => {
                const icon = getTestFileIcon(file.extension);
                const size = formatTestFileSize(file.size);
                const cleanName = window.navigationManager.cleanFileName(file.filename);
                
                return `
                    <div class="file-item" onclick="testOpenFile('${file.filename}')">
                        <div class="file-icon">${icon}</div>
                        <div class="file-info">
                            <h4 class="file-name">${cleanName}</h4>
                            <p class="file-details">${size} â€¢ ${file.extension.toUpperCase()}</p>
                        </div>
                        <div class="file-action">
                            <span>æŸ¥çœ‹ â†’</span>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // æ˜¾ç¤ºæµ‹è¯•æ–°é—»é¡µé¢
        function showTestNewsPage() {
            const container = document.querySelector('.presentation-container');
            container.innerHTML = `
                <header class="header">
                    <div class="page-header">
                        <div class="logo-container">
                            <img src="assets/logo/åŸå‘é›†å›¢LOGOèƒŒæ™¯é€æ˜.png" alt="åŸå‘é›†å›¢" class="logo logo-left">
                            <img src="assets/logo/åˆè§„LOGO.png" alt="è§„è¡Œè‡´è¿œ" class="logo logo-right">
                        </div>
                        <h1 class="main-title">è§„è¡Œè‡´è¿œ</h1>
                        <button class="back-btn" onclick="location.reload()">è¿”å›é¦–é¡µ</button>
                    </div>
                </header>
                <main class="content-area">
                    <div class="news-links-container">
                        <div class="news-column">
                            <h3 class="column-title">æ–°é—»ç¨¿é“¾æ¥</h3>
                            <div class="links-list">
                                <div class="news-group">
                                    <div class="title-column">
                                        <h4 class="news-title">åŸå‘é›†å›¢åˆè§„ç®¡ç†ä½“ç³»å»ºè®¾æˆæ•ˆæ˜¾è‘—</h4>
                                    </div>
                                    <div class="links-column">
                                        <div class="link-item-new">
                                            <span class="org-tag">é›†å›¢æœ¬éƒ¨</span>
                                            <a href="#" target="_blank" class="news-link">
                                                <span class="link-text">www.xtcfjt.com/news/123</span>
                                                <span class="link-icon">ğŸ”—</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="news-column">
                            <h3 class="column-title">å­é›†å›¢æ–°é—»ç¨¿é“¾æ¥</h3>
                            <div class="links-list">
                                <div class="news-group">
                                    <div class="title-column">
                                        <h4 class="news-title">å»ºå·¥é›†å›¢åŠ å¼ºåˆè§„æ–‡åŒ–å»ºè®¾</h4>
                                    </div>
                                    <div class="links-column">
                                        <div class="link-item-new">
                                            <span class="org-tag">å»ºå·¥</span>
                                            <a href="#" target="_blank" class="news-link">
                                                <span class="link-text">jg.xtcfjt.com/news/456</span>
                                                <span class="link-icon">ğŸ”—</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            `;
            window.navigationManager.hideTransition();
        }

        // æµ‹è¯•æ–‡ä»¶æ‰“å¼€
        function testOpenFile(filename) {
            const cleanName = window.navigationManager.cleanFileName(filename);
            showTestDocumentViewer(cleanName);
        }

        // æ˜¾ç¤ºæµ‹è¯•æ–‡æ¡£æŸ¥çœ‹å™¨
        function showTestDocumentViewer(title) {
            const container = document.querySelector('.presentation-container');
            container.innerHTML = `
                <header class="header">
                    <div class="page-header">
                        <div class="logo-container">
                            <img src="assets/logo/åŸå‘é›†å›¢LOGOèƒŒæ™¯é€æ˜.png" alt="åŸå‘é›†å›¢" class="logo logo-left">
                            <img src="assets/logo/åˆè§„LOGO.png" alt="è§„è¡Œè‡´è¿œ" class="logo logo-right">
                        </div>
                        <h1 class="main-title">${title}</h1>
                        <button class="back-btn" onclick="location.reload()">è¿”å›</button>
                    </div>
                </header>
                <main class="content-area">
                    <div class="document-viewer">
                        <div class="document-content">
                            <h2>${title}</h2>
                            <p>è¿™æ˜¯æ–‡æ¡£å†…å®¹ç¤ºä¾‹ã€‚å¯ä»¥çœ‹åˆ°æ ‡é¢˜å·²ç»å»é™¤äº†æ–‡ä»¶åç¼€ï¼Œlogoå’Œæ ‡é¢˜åœ¨å¤´éƒ¨å¹³è¡Œæ˜¾ç¤ºã€‚</p>
                            <p>é¡µé¢å¸ƒå±€æµ‹è¯•é€šè¿‡ï¼</p>
                        </div>
                    </div>
                </main>
            `;
        }

        // è¾…åŠ©å‡½æ•°
        function getTestFileIcon(extension) {
            const iconMap = {
                '.pdf': 'ğŸ“„',
                '.txt': 'ğŸ“',
                '.doc': 'ğŸ“„',
                '.docx': 'ğŸ“„',
                '.wps': 'ğŸ“„'
            };
            return iconMap[extension] || 'ğŸ“„';
        }

        function formatTestFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // è½®æ’­æ§åˆ¶ï¼ˆæ¨¡æ‹Ÿï¼‰
        function nextSlide(type) {
            console.log('ä¸‹ä¸€å¼ :', type);
        }

        function prevSlide(type) {
            console.log('ä¸Šä¸€å¼ :', type);
        }

        // åˆå§‹åŒ–
        window.addEventListener('load', function() {
            console.log('æµ‹è¯•é¡µé¢å·²åŠ è½½ï¼Œå¯ä»¥æµ‹è¯•æ‰€æœ‰åŠŸèƒ½');
        });
    </script>
</body>
</html>
