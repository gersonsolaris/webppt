# 湘潭城发集团合规宣传 - Electron应用

## 概述

这是湘潭城发集团合规宣传网站的桌面应用版本，基于Electron技术构建，可以在Windows和Linux系统上作为独立应用运行。

## 特性

- 🖥️ **桌面应用**: 无需浏览器，直接运行
- 🔒 **安全可靠**: 本地运行，数据安全
- 📱 **响应式设计**: 支持不同屏幕尺寸
- 🎯 **原生体验**: 系统集成，菜单和快捷键支持
- 📦 **离线使用**: 无需网络连接即可使用

## 系统要求

### Windows
- Windows 7 SP1 或更高版本
- .NET Framework 4.5 或更高版本
- 至少 100MB 可用磁盘空间

### Linux
- Ubuntu 16.04 或更高版本
- 或其他支持 AppImage 的 Linux 发行版
- 至少 100MB 可用磁盘空间

## 开发环境搭建

### 前置要求
- Node.js 16.0 或更高版本
- npm 8.0 或更高版本
- Python 3.7+ (用于构建工具)

### 安装步骤

1. **克隆项目**
   ```bash
   git clone [项目地址]
   cd webppt
   ```

2. **安装依赖**
   ```bash
   npm install
   ```

3. **生成应用图标**
   ```bash
   python scripts/generate_icons.py
   ```

4. **开发模式运行**
   ```bash
   npm start
   # 或者
   ./build-electron.sh  # 选择选项4
   ```

## 构建和打包

### 快速构建

使用提供的构建脚本：

**Linux/macOS:**
```bash
./build-electron.sh
```

**Windows:**
```batch
build-electron.bat
```

### 手动构建

**构建Windows版本:**
```bash
npm run build:win
```

**构建Linux版本:**
```bash
npm run build:linux
```

**构建所有平台:**
```bash
npm run build:all
```

## 输出文件说明

构建完成后，在 `dist/` 目录下会生成以下文件：

### Windows
- `湘潭城发集团合规宣传 Setup 1.0.0.exe` - 安装程序
- `湘潭城发集团合规宣传-1.0.0-win.zip` - 绿色版压缩包

### Linux
- `湘潭城发集团合规宣传-1.0.0.AppImage` - AppImage格式（推荐）
- `湘潭城发集团合规宣传_1.0.0_amd64.deb` - Debian包格式

## 应用功能

### 主要模块
1. **人人讲合规** - 署名文章展示和轮播
2. **合规速递** - 政策法规文档查看
3. **合规讲堂** - PPT培训材料预览
4. **城发动态** - 跳转官网查看最新动态
5. **合规题库** - 考试题目浏览
6. **规行致远** - 新闻稿展示

### 快捷键支持
- `F5` - 刷新页面
- `Ctrl+F5` - 强制刷新（清除缓存）
- `F12` - 开发者工具
- `Ctrl+0` - 重置缩放
- `Ctrl++` - 放大
- `Ctrl+-` - 缩小
- `Ctrl+Q` - 退出应用

### 菜单功能
- **文件菜单**: 刷新、强制刷新、退出
- **视图菜单**: 缩放控制、开发者工具
- **帮助菜单**: 关于信息

## 自定义配置

### 修改窗口尺寸
编辑 `electron/main.js` 中的窗口配置：
```javascript
width: 1400,    // 窗口宽度
height: 900,    // 窗口高度
minWidth: 1024, // 最小宽度
minHeight: 768  // 最小高度
```

### 修改应用信息
编辑 `package.json` 中的构建配置：
```json
"build": {
  "appId": "com.xtcf.compliance",
  "productName": "湘潭城发集团合规宣传"
}
```

### 添加新图标
1. 替换 `assets/logo/合规LOGO.png`
2. 运行 `python scripts/generate_icons.py`
3. 重新构建应用

## 故障排除

### 常见问题

**问题：构建失败，提示找不到模块**
```
解决：删除 node_modules 目录，重新运行 npm install
```

**问题：应用启动时白屏**
```
解决：检查 index.html 路径是否正确，确保所有资源文件存在
```

**问题：PDF文件无法加载**
```
解决：检查 assets 目录下的文件路径，确保文件编码正确
```

**问题：中文字符显示异常**
```
解决：确保所有文件都使用 UTF-8 编码保存
```

### 调试模式

启用开发者工具进行调试：
```bash
NODE_ENV=development npm start
```

## 性能优化

### 减小应用体积
1. 移除不必要的文件（在 package.json 的 files 配置中）
2. 压缩图片资源
3. 清理未使用的依赖

### 提高启动速度
1. 启用预加载脚本缓存
2. 优化资源加载顺序
3. 使用懒加载技术

## 部署建议

### 企业内部部署
1. 使用企业证书签名应用
2. 配置自动更新服务器
3. 建立应用分发渠道

### 用户安装指南
1. Windows: 运行 .exe 安装程序
2. Linux: 下载 .AppImage 文件，添加执行权限后直接运行

## 更新日志

### v1.0.0 (2025-06-25)
- 首个正式版本
- 完整的六大功能模块
- 支持Windows和Linux平台
- PowerPoint风格界面设计
- 文档在线预览功能
- 轮播展示功能

## 技术支持

如遇到问题，请联系技术团队或查看：
- 项目文档：`docs/` 目录
- 构建日志：控制台输出
- 应用日志：开发者工具控制台

---

**开发团队**: 湘潭城发集团技术团队  
**版本**: 1.0.0  
**最后更新**: 2025年6月25日
